<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="ja">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-138966739-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-138966739-1');
    </script>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta charset="utf-8">
    <title>【ロマサガRS】全力AUTOシミュレーター</title>
    <meta property="og:title" content="【ロマサガRS】全力AUTOシミュレーター" />
    <meta property="og:url" content="https://http://nao-romasaga.github.io/auto.html" />
    <meta property="og:description"
        content="【ロマサガRS】全力オート機能で技の覚醒や継承を効率よく行うためのシミュレーターです。ダメージ計算もできます。攻略や覚醒の検討などにご参考ください。" />
    <meta name="description"
        content="【ロマサガRS】全力オート機能で技の覚醒や継承を効率よく行うためのシミュレーターです。ダメージ計算もできます。攻略や覚醒の検討などにご参考ください。【ロマンシングサガ リユニバース】" />
    <meta property="og:image" content="https://nao-romasaga.github.io/img/twitter_card_auto.png" />
    <meta property="og:site_name" content="ロマサガRS便利ツール" />
    <meta property="og:type" content="article">
    <meta property="og:locale" content="ja_JP" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@nao_romasaga_rs" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./css/bootstrap/bootstrap.min.css">
    <script src="./js/bootstrap/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/style2.css">
    <link rel="stylesheet" type="text/css" href="./css/accordion.css">
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script>
    <script src="./js/Firebase.js"></script>
    <script src="./js/utils2.js"></script>

    <script src="./js/data_CHARMASTER.js"></script>
    <script src="./js/data_STYLEMASTER_auto.js"></script>
    <script src="./js/data_SKILLMASTER_auto.js"></script>
    <script src="./js/data_ENEMY.js"></script>

    <link href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c" rel="stylesheet">
    <style>
        /* スライド下のページャーの設定 */
        .sp-buttons {
            padding-top: 40px;
        }

        .sp-button {
            width: 30px;
            height: 10px;
            border: none;
            margin: 7px;
            background: white;
        }

        .sp-selected-button {
            background: #000;
        }

        @media only screen and (min-width: 768px) and (max-width: 1024px) {
            .xs-show {
                display: none;
            }

            .xs-hide {
                display: block;
            }
        }

        @media only screen and (min-width: 568px) and (max-width: 768px) {
            .sp-button {
                width: 25px;
                height: 18px;
            }
        }
        .table-header-img {
            width:20px;
        }
        .taisei {
            font-size:8px;
            width:20px;
            text-align:right
        }
    </style>
    <!-- http://ifs.nog.cc/hkaityo.hp.infoseek.co.jp/dq/rs2-01.html -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
</head>

<body>
    <div class="haikei">
        <div class="container">
            <h3 class="text-center title-text">バトルクエスト一覧</h3>
            <p class="text-right opacity">
                <small>
                    現在、最新の外伝1,2のみ表示しています<br>
                    それより前のクエストは現在整備中です<br>
    
                    バグ発見、ご要望は <a href="https://twitter.com/nao_romasaga_rs"
                        target="new">nao_romasaga_rs</a>まで</small></p>
            <div id="DISP_ZONE">

            </div>
            <div class="info-modal width-max d-none" style="min-width: 720px; padding: 0px 15px 40px 15px;" id="QUEST_BASE">
                <div class="text-center info-modal-header fuchidoriWhite">外伝1.xxxxxx</div>
                <table class="d-none" id="TABLE_TEMPLATE" style="line-height: 15px; margin-bottom:10px;">
                    <tr>
                        <td class="QUEST_INFO bg-item text-center" style="width:100px;"></td>
                        <td colspan=11 class="DROP_INFO small"></td>
                    </tr>
                    <tr class="text-center char-bottom">
                        <td></td>
                        <td class="text-right"><img class="table-header-img" src="http://romasagatool.com/img/icon/icon_zan.png"></td>
                        <td class="text-right"><img class="table-header-img" src="http://romasagatool.com/img/icon/icon_da.png"></td>
                        <td class="text-right"><img class="table-header-img" src="http://romasagatool.com/img/icon/icon_totsu.png"></td>
                        <td class="text-right"><img class="table-header-img" src="http://romasagatool.com/img/icon/icon_netsu.png"></td>
                        <td class="text-right"><img class="table-header-img" src="http://romasagatool.com/img/icon/icon_rei.png"></td>
                        <td class="text-right"><img class="table-header-img" src="http://romasagatool.com/img/icon/icon_rai.png"></td>
                        <td class="text-right"><img class="table-header-img" src="http://romasagatool.com/img/icon/icon_yo.png"></td>
                        <td class="text-right"><img class="table-header-img" src="http://romasagatool.com/img/icon/icon_in.png"></td>
                        <td>有効状態異常</td>
                        <td>Round1</td>
                        <td>Round2</td>
                        <td>Round3</td>
                    </tr>
                <tr class="small d-none" id="ROW_TEMPLATE">
                    <td class="NAME text-nowrap" >ヴァンパイアレディ</td>
                    <td class="ZAN taisei">45</td>
                    <td class="DA taisei">-55</td>
                    <td class="TOTSU taisei">0</td>
                    <td class="NETSU taisei">-55</td>
                    <td class="REI taisei">-55</td>
                    <td class="RAI taisei">-55</td>
                    <td class="YO taisei">-55</td>
                    <td class="IN taisei">-55</td>
                    <td >
                        <img class="DOKU table-header-img" src="http://romasagatool.com/img/icon/icon_doku.png">
                        <img class="MAHI table-header-img" src="http://romasagatool.com/img/icon/icon_mahi.png">
                        <img class="ZZZ table-header-img" src="http://romasagatool.com/img/icon/icon_zzz.png">
                        <img class="SEKIKA table-header-img" src="http://romasagatool.com/img/icon/icon_sekika.png">
                        <img class="STAN table-header-img" src="http://romasagatool.com/img/icon/icon_stan.png">
                        <img class="KONRAN table-header-img" src="http://romasagatool.com/img/icon/icon_konran.png">
                        <img class="MIRYO table-header-img" src="http://romasagatool.com/img/icon/icon_miryo.png">
                        <img class="KIZETSU table-header-img" src="http://romasagatool.com/img/icon/icon_kizetsu.png">
                    </td>
                </tr>
            </table>
            </div>
        </div> <!-- container -->
    </div> <!-- main -->
</body>
<script>
    var quest_data = [
        {
        "外伝-1.巨竜ドーラと魔龍公ビューネイ": [
            {
                "name":"外伝1-1",
                "drop":["icon_kakusei_rstone.png:赤の石"],
                "enemy":[
                    ["バイター","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                    ["フェイ","125","125","999","125","125","0","125","0","125","0","-35","0","0","50","50","50","50","50"],
                    ["翼手竜","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                ],
                "position":[
                    [["バ","50%","0"],["バ","50%","20px"],["バ","50%","40px"]],
                    [["フ","25%","0"],["バ","30%","20px"],["フ","75%","5px"],["バ","80%","25px"]],
                    [["翼","50%","0"],["バ","20%","25px"],["フ","50%","30px"],["バ","80%","25px"]],
                ]},
            {   "name":"外伝1-2",
                "drop":["icon_kakusei_pstone.png:紫の石"],
                "enemy":[
                    ["ヘルダイバー","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                    ["ブレイザー","0","0","125","0","0","0","0","0","0","0","0","0","-35","50","0","0","0","0"],
                    ["ワイバーン","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                ],
                "position":[
                    [["ブ","50%","0"],["ヘ","20%","30px"],["ヘ","50%","25px"],["ブ","80%","30px"]],
                    [["ワ","50%","30px"],["ヘ","25%","0px"],["ヘ","75%","0px"]],
                    [["ワ","50%","0px"],["ブ","25%","30px"],["ブ","75%","30px"]],
                ]},
            {   "name":"外伝1-3",
                "drop":["icon_kakusei_rsand.png:赤の砂","icon_ken.png:異国式二連剣"],
                "enemy":[
                ["翼手竜","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                ["バイター","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                ["エルムバード","999","999","0","999","999","999","999","999","999","999","0","-35","50","50","-35","0","-45","50"],
                ["グリーンドラゴン","999","0","999","999","50","999","300","300","50","999","0","0","-35","0","50","0","0","0"],
                ],
                "position":[
                    [["翼","50%","50%"]],
                    [["エ","25%","0"],["バ","50%","0"],["エ","75%","0"],["バ","37%","25px"],["エ","62%","25px"]],
                    [["グ","50%","0"],["バ","20%","25px"],["バ","50%","30px"],["バ","80%","25px"]],
                ]},
            {   "name":"外伝1-4",
                "drop":["icon_kakusei_psand.png:紫の砂","icon_ken.png:異国式二連剣"],
                "enemy":[
                ["ブレイザー","0","0","125","0","0","0","0","0","0","0","0","0","-35","50","0","0","0","0"],
                ["翼手竜","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                ["ワイバーン","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                ["ブラックドラゴン","999","0","999","999","50","999","300","300","50","999","0","0","-35","0","50","0","0","0"],
                ],
                "position":[
                    [["翼","50%","0px"],["ブ","25%","30px"],["ブ","75%","30px"]],
                    [["ワ","30%","0px"],["ワ","60%","30px"]],
                    [["黒","50%","0px"],["ブ","35%","30px"],["ブ","65%","30px"]],
                ]},
            {   "name":"外伝1-5",
                "drop":["icon_tai.png:格闘王の拳"],
                "enemy":[
                ["リーパー","125","125","0","125","125","0","125","125","125","0","0","0","0","50","50","50","-45","50"],
                ["インプ","0","0","125","0","0","0","0","0","0","0","0","0","0","50","50","50","-45","50"],
                ["ライフトラップ","999","999","999","999","999","999","999","999","999","999","30","30","30","-45","0","-20","0","0"],
                ["ビューネイバード","999","999","999","999","999","999","999","999","999","999","0","0","0","0","0","0","0","0"],
                ["ビューネイベビー","999","999","999","999","999","999","999","999","999","999","0","0","0","0","0","0","0","0"],
                ["ビューネイドッグ","999","999","999","999","999","999","999","999","999","999","0","0","0","0","0","0","0","0"],
                ],
                "position":[
                    [["イ","25%","0px"],["リ","25%","20px"],["イ","75%","0px"],["リ","75%","20px"]],
                    [["ラ","50%","50%"]],
                    [["鳥","25%","20px"],["犬","50%","10px"],["べ","75%","20px"]],
                ]},
            ],
        "外伝-2.巨竜ドーラと魔龍公ビューネイ": [
            {   "name":"外伝2-1",
                "drop":["icon_tai.png:格闘王の拳"],
                "enemy":[
                ["ビューネイの精","0","0","0","0","0","0","0","0","0","0","0","0","-35","0","0","0","0","0"],
                ],
                "position":[
                    [["精","50%","50%"]],
                    [["精","25%","0px"],["精","50%","10px"],["精","75%","0px"]],
                    [["精","25%","0"],["精","50%","0"],["精","75%","0"],["精","37%","25px"],["精","62%","25px"]],
                ]},
            {   "name":"外伝2-2",
                "drop":["icon_yari.png:黒曜石の槍"],
                "enemy":[
                ["ラプトル","0","0","0","0","0","0","0","999","0","0","0","0","0","0","-45","-45","0","0"],
                ["ウーズ","125","125","125","125","125","0","125","999","125","999","30","125","30","-35","-35","-45","-35","-35"],
                ["トリケプス","0","0","30","125","30","125","125","0","0","30","-20","50","0","0","0","0","0","0"],
                ["デスコラーダ","0","0","0","0","0","0","0","999","0","999","30","125","30","-35","-35","-45","-35","-35"],
                ],
                "position":[
                    [["ウ","25%","0"],["ウ","50%","0"],["ウ","75%","0"],["ラ","37%","25px"],["ラ","62%","25px"]],
                    [["ト","30%","20px"],["ト","60%","0px"]],
                    [["ウ","25%","0"],["デ","25%","25px"],["ウ","50%","15px"],["ウ","75%","10px"],["デ","75%","30px"]],
                ]},
            {   "name":"外伝2-3",
                "drop":["icon_yari.png:黒曜石の槍"],
                "enemy":[
                ["強鬼","125","125","0","125","125","0","125","125","125","0","0","0","0","50","50","50","-45","50"],
                ["マンティスゴッド","0","0","0","0","0","0","0","0","0","0","0","-45","0","0","-45","0","30","0"],
                ["アークウインガー","125","125","125","125","125","125","125","999","125","0","50","0","-45","0","-35","-35","0","0"],
                ],
                "position":[
                    [["強","50%","20px"]],
                    [["マ","30%","0px"],["マ","60%","20px"]],
                    [["ア","30%","20px"],["ア","60%","0px"]],
                ]},
            {   "name":"外伝2-4",
                "drop":["icon_dken.png:カリブール"],
                "enemy":[
                ["ストーマー","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                ["サンダイバー","0","0","125","0","0","0","0","0","0","0","0","0","-35","0","50","0","0","0"],
                ["ブルードラゴン","999","0","999","999","50","999","300","300","50","999","0","0","-35","0","50","0","0","0"],
                ],
                "position":[
                    [["ス","25%","25px"],["ス","50%","25px"],["ス","75%","25px"],["サ","37%","0px"],["サ","62%","0px"]],
                    [["サ","25%","25px"],["サ","50%","25px"],["サ","75%","25px"],["サ","50%","0px"]],
                    [["青","50%","0px"],["ス","35%","30px"],["ス","65%","30px"]],
                ]},
            {   "name":"外伝2-5",
                "drop":["icon_dken.png:カリブール"],
                "enemy":[
                ["フリスベルグ","999","999","0","999","999","999","999","999","999","999","0","-35","50","-35","50","0","-45","50"],
                ["フォーン","125","125","999","125","125","0","125","0","125","0","-35","0","0","50","50","50","50","50"],
                ["イカロス","0","0","0","0","0","0","0","0","0","0","0","0","50","-35","-35","-35","0","0"],
                ["ビューネイ","999","999","999","999","999","999","999","999","999","999","0","0","0","300","0","0","0","0"],        
                ],
                "position":[
                    [["フ","50%","30px"],["フ","75%","15px"],["ﾌｫ","25%","15px"],["ﾌｫ","50%","0px"]],
                    [["ﾌｫ","30%","20px"], ["ﾌｫ","60%","20px"], ["イ","30%","0px"],["イ","60%","0px"]],
                    [["ビ","50%","10px"]],
                ]},
        ]
        }
    ];
    $(document).ready(function(){
        // 外伝1/2の始まり
        for(var quest_main in quest_data[0]){
            var $base = $("#QUEST_BASE").clone().attr("id","").removeClass("d-none");
            $base.find(".info-modal-header").html(quest_main);
            // 外伝1-1〜2-5の始まり
            for(var quest of quest_data[0][quest_main]){
                var $table = $("#TABLE_TEMPLATE").clone().attr("id","").removeClass("d-none");
                $table.find(".QUEST_INFO").html(quest['name']);
                var drophtml = "";
                for(var dropitem of quest['drop']) {
                    var tmp = dropitem.split(":");
                    var imgpath = getImgPath("icon/"+tmp[0]);
                    drophtml += `<img src="${imgpath}" height=20>${tmp[1]} `;
                }
                $table.find(".DROP_INFO").html(drophtml);
                var first = true;
                var html = [];
                for(var r in quest['position']){
                    var tag = "";
                    for(var enemy of quest['position'][r]){
                        tag += `<span style="position:absolute; top:${enemy[1]}; left:${enemy[2]};">${enemy[0]}</span>`;
                    }
                    html.push(tag);
                }                
                while(quest['enemy'].length < 3){
                    quest['enemy'].push(["","","","","","","","","","","","","","","","","","","","","","","","","",]);
                }
                for(var enemy of quest['enemy']){
                    var $row = $("#ROW_TEMPLATE").clone().attr("id","").removeClass("d-none");
                    $row.find(".NAME").html(enemy[0]);
                    setJyotaiOpacity($row.find(".DOKU") , enemy[1]);
                    setJyotaiOpacity($row.find(".STAN") , enemy[3]);
                    setJyotaiOpacity($row.find(".MAHI") , enemy[4]);
                    setJyotaiOpacity($row.find(".ZZZ") , enemy[5]);
                    setJyotaiOpacity($row.find(".SEKIKA") , enemy[6]);
                    setJyotaiOpacity($row.find(".KONRAN") , enemy[7]);
                    setJyotaiOpacity($row.find(".MIRYO") , enemy[8]);
                    setJyotaiOpacity($row.find(".KIZETSU") , enemy[10]);
                    setReistValue($row.find(".ZAN") , enemy[11]);
                    setReistValue($row.find(".DA") , enemy[12]);
                    setReistValue($row.find(".TOTSU") , enemy[13]);
                    setReistValue($row.find(".NETSU") , enemy[14]);
                    setReistValue($row.find(".REI") , enemy[15]);
                    setReistValue($row.find(".RAI") , enemy[16]);
                    setReistValue($row.find(".YO") , enemy[17]);
                    setReistValue($row.find(".IN") , enemy[18]);
                    if(first){
                        var size = quest['enemy'].length;
                        $row.append(`
                        <td rowspan=${size} class="haichi1" style="position:relative;">${html[0]}</td>
                        <td rowspan=${size} class="haichi2" style="position:relative;">${html[1]}</td>
                        <td rowspan=${size} class="haichi3" style="position:relative;">${html[2]}</td>`);
                        first = false;
                    }
                    $table.append($row.clone());
                }
                $base.append($table.clone());
            }
            $("#DISP_ZONE").append($base.clone());
        }

        function setReistValue(target , value){
            var v = value == "0" ? "" : value;
            var clazz = (value >= 0) ? "shadowBlue text-white" : "shadowRed text-white";
            target.addClass(clazz).html(v);
        }
        function setJyotaiOpacity(target , value){
            var style = "opacity : 1;"
            if(value >= 300 || value === "") {
                style = "opacity : 0;";
            } else if(value >= 50) {
                style = "opacity : 0.2;";
            } else if (value > 0) {
                style = "opacity : 0.8;";
            }
            target.attr("style",style);
        }
    });
</script>

</html>